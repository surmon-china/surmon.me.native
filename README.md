# surmon.me.native 

[![](https://badge.juejin.im/entry/58e53578a0bb9f0069055b23/likes.svg?style=flat-square)](https://juejin.im/entry/58e53578a0bb9f0069055b23/detail)
[![GitHub issues](https://img.shields.io/github/issues/surmon-china/surmon.me.native.svg?style=flat-square)](https://github.com/surmon-china/surmon.me.native/issues)
[![GitHub forks](https://img.shields.io/github/forks/surmon-china/surmon.me.native.svg?style=flat-square)](https://github.com/surmon-china/surmon.me.native/network)
[![GitHub stars](https://img.shields.io/github/stars/surmon-china/surmon.me.native.svg?style=flat-square)](https://github.com/surmon-china/surmon.me.native/stargazers)

A react-native applaction for [surmon.me](https://surmon.me) 

ä¸€ä¸ªéå¸¸é€‚åˆå…¥é—¨å­¦ä¹ çš„ react-native é¡¹ç›®ï¼Œæœ‰å€Ÿé‰´è‡ªå…¶ä»–ç§å­é¡¹ç›®çš„ç»„ç»‡æ–¹å¼ï¼Œä»£ç æ¸…æ™°ã€ç»“æ„åˆç†ã€‚

ç›¸å…³çš„å…¶ä»–é¡¹ç›®ï¼š[Webï¼ˆNuxt.jsï¼‰](https://github.com/surmon-china/surmon.me)ã€[æœåŠ¡ç«¯ï¼ˆNode.jsï¼‰](https://github.com/surmon-china/nodepress)ã€[Webåå°ï¼ˆAngularï¼‰](https://github.com/surmon-china/angular-admin)

## Screenshot

### IOS

![](https://raw.githubusercontent.com/surmon-china/surmon.me.native/master/screenshot/ios/full-01.jpg)

![](https://raw.githubusercontent.com/surmon-china/surmon.me.native/master/screenshot/ios/full-02.jpg)

### Android

![](https://raw.githubusercontent.com/surmon-china/surmon.me.native/master/screenshot/android/full-01.jpg)

![](https://raw.githubusercontent.com/surmon-china/surmon.me.native/master/screenshot/android/full-02.jpg)


## é¡µé¢ç»“æ„
- **Welcome**
   + å®‰å“ä¸‹é¦–å±å¯åŠ¨é¡µï¼ˆ1.666ç§’åè·³æ¸²æŸ“å¸ƒå±€ç»„ä»¶ï¼‰
- **Layout**
   + æ€»å¸ƒå±€ç»„ä»¶
- **Articles**
   + æ–‡ç« åˆ—è¡¨ç»„ä»¶
   + å¯ä¸‹æ‹‰åˆ·æ–°
   + ä¸Šæ‹‰ç‚¹å‡»åŠ è½½æ›´å¤š
- **Detail** 
   + æ–‡ç« è¯¦æƒ…é¡µï¼ˆmarkdownè§£æå™¨ï¼‰
- **Projects**
   + Webviewç»„ä»¶
- **About**
   + ä¸€äº›å›¾æ ‡ç»„ä»¶
- **component/navbar**
   + é¡¶éƒ¨æ ç»„ä»¶ï¼ˆStatusBarï¼‰
- **component/menu**
   + èœå•æ ç»„ä»¶ï¼ˆDrawerLayoutAndroid/TabBarIOSï¼‰çš„å°è£…
- **component/AutoActivityIndicator**
   + åŠ è½½æŒ‡ç¤ºå™¨ç»„ä»¶ï¼ˆActivityIndicatorï¼‰çš„å°è£…
- **component/articel**
   + æ–‡ç« åˆ—è¡¨æ‰€éœ€çš„ç»„ä»¶

## ä¸¤ç«¯å¼‚åŒ
- è¿™ä¸ªé¡¹ç›®æœ¬èº«æœ‰å¾ˆå¼ºçš„å­¦ä¹ å’Œä¸ªäººæ€§è´¨ï¼Œå¸Œæœ›ä»–èƒ½ç”¨å°‘çš„å†…å®¹å°½é‡ä½“ç°å‡ºå¤šçš„ä¸œè¥¿
- èœå•æ ï¼šå› ä¸º IOS ä¸Šå’Œ android ä¸Š RNï¼ˆæœ¬èº«ï¼‰åˆ†åˆ«æä¾›äº†ä¸åŒçš„èœå•æ ï¼ˆDrawerLayoutAndroid/TabBarIOSï¼‰ï¼Œå°±ç®€å•å°è£…äº†ä¸‹å¯åœ¨å…¥å£å°½é‡ä¼˜é›…åœ°å¤ç”¨
- å¯åŠ¨å±å‡ ä¹æ˜¯ä¸ªæ ‡é…ï¼ŒAndroid åªèƒ½é€šè¿‡è‡ªå®šä¹‰æ–¹å¼æ¥å®šä¹‰å¯åŠ¨å±ï¼Œæ‰€ä»¥å®‰å“ä¸Šå¤šäº†ä¸€å±‚
- å…¶ä»–éƒ½ä¸€æ ·ã€‚ğŸ˜

## ç¨‹åºç»“æ„
- ç»„ä»¶:componentsï¼ˆå…¬ç”¨ç»„ä»¶æŠ½è±¡ï¼‰
- é¡µé¢:pagesï¼ˆä¸»ç¨‹åºçš„ä¸»è¦æ„æˆéƒ¨åˆ†ï¼‰
- å¸ƒå±€:layoutsï¼ˆæ—¢å°†ä¸¤ç«¯å…¬ç”¨çš„å¸ƒå±€è¿›è¡Œå°è£…ã€åˆå¯ä»¥ç”¨äºä¸åŒé¡µé¢ä¸‹çš„ä¸åŒå¸ƒå±€ï¼Œç±»ä¼¼nuxt.jsä¸­çš„layoutï¼‰
- æœåŠ¡:serviceï¼ˆå…¬å…±æœåŠ¡æŠ½è±¡ï¼Œå¦‚ï¼šç½‘ç»œã€ç¼“å­˜...ï¼‰
- æ ·å¼:stylesï¼ˆç±»ä¼¼Webç«¯å¯¹æ ·å¼å˜é‡çš„å†…èšç®¡ç†ï¼Œå¦‚æœé¡¹ç›®è¾ƒå¤§ï¼Œè·¯ç”±ä¹Ÿå¯ç±»ä¼¼ç®¡ç†ï¼‰
- æ‰©å±•:utilsï¼ˆå°†ä»»ä½•ä¸æ¶‰åŠä¾èµ–çš„å¤ç”¨çº¯å‡½æ•°è¿›è¡Œå°è£…ï¼‰

## å‘å’Œç»éªŒ

### é¡¹ç›®é—®é¢˜
- run-ioså¤±è´¥çš„æ—¶å€™ï¼Œå¯ä»¥éœ€è¦åˆ é™¤ios/buildæ–‡ä»¶å¤¹é‡æ–°ç¼–è¯‘
- ä¸å†ä½¿ç”¨`babel-plugin-module-resolver`æ’ä»¶ï¼Œä½¿ç”¨å†…fbjsæ¨¡å—ç®¡ç†åˆ«å
- é¡¹ç›®å‡ºç°è¯¸å¤šå¼‚å¸¸çš„æ—¶å€™ï¼Œç›´æ¥æ‰§è¡Œ`. reset.sh`ä¼šè‡ªåŠ¨æ¸…ç†ç¼“å­˜å¹¶é‡è£…ï¼Œè€Œåæ‰§è¡Œå‘½ä»¤å³å¯
### Iconså›¾æ ‡åº“é—®é¢˜
å®‰è£…å®Œæ¯•è‹¥æœ‰å¼‚å¸¸ï¼Œåˆ™éœ€è¦æ‰§è¡Œ`rnpm link`/`react-native link`

### Markdownè§£æåº“å¼‚å¸¸
ä½¿ç”¨äº†[react-native-simple-markdown](https://github.com/CharlesMangwa/react-native-simple-markdown)ï¼Œç”±äºå…¶æš‚ä¸æ”¯æŒå¤šå±‚åˆ—è¡¨ï¼Œæ•…ä½¿ç”¨é»‘åå•å»é™¤äº†listçš„è§£æï¼ŒåŒæ—¶ç”±äºå…¶å†…éƒ¨çš„ç»„ä»¶æœºåˆ¶ï¼Œå¯¼è‡´æ— æ³•ä½¿ç”¨[react-native-fit-image](https://github.com/huiseoul/react-native-fit-image)ç»„ä»¶

### IOS
- react-native-vector-icons - Issuesï¼š
   * [å®‰è£…è¯´æ˜](https://github.com/oblador/react-native-vector-icons)
   * Podfileçš„æ›´æ–°éœ€è¦ä½¿ç”¨`gem`å®‰è£…`cocoapods`
      + http://code4app.com/article/cocoapods-install-usage
      + https://github.com/CocoaPods/CocoaPods/issues/3692
      + https://github.com/oblador/react-native-vector-icons/issues/394
- AppNameå’Œå¯åŠ¨é¡µä¿®æ”¹ http://www.cnblogs.com/allenxieyusheng/p/5802179.html
- Appå›¾æ ‡å°ºå¯¸ 
   + http://blog.csdn.net/leiyu231/article/details/52830151
   + https://medium.com/the-react-native-log/change-default-launch-screen-in-react-native-ios-app-544f94f1e947
- æ‰“åŒ…å’Œç”Ÿäº§æ¨¡å¼çš„åˆ‡æ¢æ­¥éª¤ 
   + http://stackoverflow.com/questions/35476349/how-to-build-ipa-for-react-native
   + ä¸­æ–‡ç‰ˆ http://www.jianshu.com/p/7683efdd31f5
- æ‰“åŒ…ä¸ºIPAåŒ…
   + http://www.jianshu.com/p/a19d2d0747ee
- å¼€å‘è€…è´¦æˆ·æ˜¾ç¤ºæµ‹è¯•æœºidä¸ç¬¦åˆ
   + http://stackoverflow.com/questions/39754341/none-of-your-accounts-are-a-member-code-signing-errors-after-upgrading-to-xcode 
- æœºæ„idå¤‡ä»½
   + `org.reactjs.native.example.$(PRODUCT_NAME:rfc1034identifier)`

### Android
- æ‰“åŒ…ä¸ºAPK http://reactnative.cn/docs/0.43/signed-apk-android.html
- å®‰å“æ‰“åŒ…ç­¾åé—®é¢˜
   + Build failed with an exceptionï¼šhttps://github.com/soliury/noder-react-native/issues/44
   + http://reactnative.cn/docs/0.42/signed-apk-android.html#content
- Genymotionæ¨¡æ‹Ÿå™¨å®‰è£…å’Œè®¾ç½®
   + https://facebook.github.io/react-native/releases/0.23/docs/android-setup.html
   + Genymotionæ¨¡æ‹Ÿå™¨SDKæœªçŸ¥æœªæ‰‹åŠ¨æŒ‡å®šä¼šå¯¼è‡´æ— æ³•installdebug http://stackoverflow.com/questions/35959350/react-native-android-genymotion-adb-server-didnt-ack
- æ‰¾ä¸åˆ°å®‰å“è®¾å¤‡æˆ–è¿è¡Œå·¨æ…¢
   + https://github.com/facebook/react-native/issues/2711
- ç‰ˆæœ¬ä¸å…¼å®¹é—®é¢˜
   + http://stackoverflow.com/questions/34749299/gradle-version-2-2-is-required-current-version-is-2-10
- AppNameä¿®æ”¹è·¯å¾„ android/app/src/main/res/values/strings.xml
- AppNameå’Œå¯åŠ¨é¡µä¿®æ”¹ 
   + http://www.cnblogs.com/allenxieyusheng/p/5804023.html
   + http://stackoverflow.com/questions/33390013/how-to-create-some-kind-of-splash-screen-launching-screen-which-disappears-afte


## Build Setup

```bash
# install dependencies
$ npm install # Or yarn install

# æ¸…é™¤ç¼“å­˜å¹¶å¼€å¯æœåŠ¡å™¨ï¼ˆä¸æ‰§è¡Œå®¢æˆ·ç«¯ï¼‰
$ npm run dev

# ç¼–è¯‘ä¸¤ç«¯å¹¶å¼€å¯æœåŠ¡å™¨ï¼ˆæ‰§è¡Œå‰éœ€å¼€å¯å®‰å“æ¨¡æ‹Ÿå™¨ï¼‰
$ npm run dev:all

# ç¼–è¯‘IOSå¹¶å¼€å¯æœåŠ¡å™¨
$ npm run dev:ios

# ç¼–è¯‘Androidå¹¶å¼€å¯æœåŠ¡å™¨ï¼ˆæ‰§è¡Œå‰éœ€å¼€å¯å®‰å“æ¨¡æ‹Ÿå™¨ï¼‰
$ npm run dev:android

# ç¼–è¯‘IOSçš„åŒ…å¹¶è¾“å‡ºåˆ°./ios/react.bundle
$ npm run build:ios

# ç¼–è¯‘Androidçš„åŒ…å¹¶è¾“å‡ºåˆ°android/app/build/outputs/apk/app-release.apk
$ npm run build:android

# æ›¿æ¢debugæ’ä»¶ï¼Œä»…é¡¹ç›®åˆæ¬¡å®‰è£…å®Œåæ‰§è¡Œ
$ npm run postinstall

# å¯ç”¨æµ‹è¯•æœåŠ¡
$ npm run test
```


## ç›®å½•ç»“æ„
```
surmon.me.native/
   |
   â”œâ”€â”€ios/                       * IOS
   |
   â”œâ”€â”€android/                   * Android
   |
   â”œâ”€â”€src/                       * ä¸»ç¨‹åº
   â”‚   â”‚
   â”‚   â”‚â”€â”€components             * æ‰€æœ‰ç»„ä»¶
   â”‚   â”‚
   â”‚   â””â”€â”€pages                  * æ‰€æœ‰é¡µé¢
   â”‚   â”‚
   â”‚   â””â”€â”€images                 * æœ¬åœ°å›¾ç‰‡èµ„æº
   â”‚   â”‚
   â”‚   â””â”€â”€utils                  * Utils
   â”‚   â”‚
   â”‚   â””â”€â”€styles                 * æ‰€æœ‰æ ·å¼å˜é‡é›†ä¸­ç®¡ç†
   â”‚   â”‚
   â”‚   â””â”€â”€service                * å°è£…æœåŠ¡æ€§è´¨çš„åŒ…ï¼Œå¦‚apiç½‘ç»œæœåŠ¡ã€å…¨å±€é…ç½®ã€ç¼“å­˜å°è£…..
   â”‚   â”‚
   â”‚   â””â”€â”€index.js               * Appå…¥å£
   â”‚
   â”‚â”€â”€package.json               * åŒ…ä¿¡æ¯
   â”‚
   â”‚â”€â”€.babelrc                   * Babelé…ç½®
   â”‚
   â””â”€â”€reset.sh                   * æ¸…ç©ºé¡¹ç›®ä¾èµ–å¹¶é‡æ–°å®‰è£…
```
